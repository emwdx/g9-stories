{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Button,Modal,Container}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[stories,setStories]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showModal,setShowModal]=useState(false);const[randomStory,setRandomStory]=useState(null);const[selectedCoreValue,setSelectedCoreValue]=useState('');const coreValues=[\"Kindness\",\"Respect\",\"Responsibility\",\"Positivity\",\"Integrity\",\"Belonging\"];useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get('https://docs.google.com/spreadsheets/d/e/2PACX-1vS-G9c-yVcu8Qrgtu8kIM3UAFwWK8D2gYzpMFhC7nOKYznJHzxPby-9ZLRk_YXBsKMmhuXLrLFbxoAQ/pub?gid=480186919&single=true&output=tsv');const data=response.data.split('\\n').map(row=>row.split('\\t'));const headers=data[0].map(header=>header.trim());const stories=data.slice(1).map(row=>{let story={};row.forEach((cell,index)=>{const key=headers[index];if(key){story[key]=cell.trim();}});return story;});const transformedStories=stories.map(story=>({timestamp:story['Timestamp'],emailAddress:story['Email Address'],who:story['Who is your story about?'],coreValue:story['Which core value is this story associated with?'],story:story['Tell the story about the ninth grader. Include good detail that makes clear why this illustrates the core value you chose.']}));setStories(transformedStories);setLoading(false);}catch(error){setError(error);setLoading(false);}};fetchData();},[]);const handleButtonClick=coreValue=>{const filteredStories=stories.filter(story=>story.coreValue===coreValue);const randomIndex=Math.floor(Math.random()*filteredStories.length);setRandomStory(filteredStories[randomIndex]);setSelectedCoreValue(coreValue);setShowModal(true);};const handleCloseModal=()=>setShowModal(false);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error loading data: \",error.message]});return/*#__PURE__*/_jsxs(Container,{className:\"d-flex flex-column align-items-center mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ninth Grade Celebration: Stories of Values\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:coreValues.map((coreValue,index)=>/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mb-3 large-button\",onClick:()=>handleButtonClick(coreValue),children:/*#__PURE__*/_jsx(\"h1\",{children:coreValue})},index))}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,centered:true,dialogClassName:\"large-modal\",className:\"large-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:selectedCoreValue})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"p\",{className:\"storyText\",children:randomStory&&randomStory.story})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","Button","Modal","Container","jsx","_jsx","jsxs","_jsxs","App","stories","setStories","loading","setLoading","error","setError","showModal","setShowModal","randomStory","setRandomStory","selectedCoreValue","setSelectedCoreValue","coreValues","fetchData","response","get","data","split","map","row","headers","header","trim","slice","story","forEach","cell","index","key","transformedStories","timestamp","emailAddress","who","coreValue","handleButtonClick","filteredStories","filter","randomIndex","Math","floor","random","length","handleCloseModal","children","message","className","variant","onClick","show","onHide","centered","dialogClassName","Header","closeButton","Title","Body"],"sources":["/Users/weinbergmath/CreativeLocal/reactProjects/g9-stories/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Button, Modal, Container } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';\n\nfunction App() {\n  const [stories, setStories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [randomStory, setRandomStory] = useState(null);\n  const [selectedCoreValue, setSelectedCoreValue] = useState('');\n\n  const coreValues = [\"Kindness\", \"Respect\", \"Responsibility\", \"Positivity\", \"Integrity\", \"Belonging\"];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('https://docs.google.com/spreadsheets/d/e/2PACX-1vS-G9c-yVcu8Qrgtu8kIM3UAFwWK8D2gYzpMFhC7nOKYznJHzxPby-9ZLRk_YXBsKMmhuXLrLFbxoAQ/pub?gid=480186919&single=true&output=tsv');\n        const data = response.data.split('\\n').map(row => row.split('\\t'));\n        \n        const headers = data[0].map(header => header.trim());\n        \n        const stories = data.slice(1).map(row => {\n          let story = {};\n          row.forEach((cell, index) => {\n            const key = headers[index];\n            if (key) {\n              story[key] = cell.trim();\n            }\n          });\n          return story;\n        });\n        \n        const transformedStories = stories.map(story => ({\n          timestamp: story['Timestamp'],\n          emailAddress: story['Email Address'],\n          who: story['Who is your story about?'],\n          coreValue: story['Which core value is this story associated with?'],\n          story: story['Tell the story about the ninth grader. Include good detail that makes clear why this illustrates the core value you chose.']\n        }));\n        \n        setStories(transformedStories);\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleButtonClick = (coreValue) => {\n    const filteredStories = stories.filter(story => story.coreValue === coreValue);\n    const randomIndex = Math.floor(Math.random() * filteredStories.length);\n    setRandomStory(filteredStories[randomIndex]);\n    setSelectedCoreValue(coreValue);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => setShowModal(false);\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error loading data: {error.message}</p>;\n\n  return (\n    <Container className=\"d-flex flex-column align-items-center mt-5\">\n      <h1>Ninth Grade Celebration: Stories of Values</h1>\n      <div className=\"button-container\">\n        {coreValues.map((coreValue, index) => (\n          <Button\n            key={index}\n            variant=\"primary\"\n  \n            className=\"mb-3 large-button\"\n            onClick={() => handleButtonClick(coreValue)}\n\n           \n          >\n            <h1>{coreValue}</h1>\n          </Button>\n        ))}\n      </div>\n\n      <Modal show={showModal} onHide={handleCloseModal} centered dialogClassName=\"large-modal\" className = \"large-modal\">\n        <Modal.Header closeButton>\n          <Modal.Title>{selectedCoreValue}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p className = \"storyText\">{randomStory && randomStory.story}</p>\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}